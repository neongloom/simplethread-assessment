var w=Object.defineProperty,S=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var p=(n,e,t)=>e in n?w(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,D=(n,e)=>{for(var t in e||(e={}))E.call(e,t)&&p(n,t,e[t]);if(h)for(var t of h(e))L.call(e,t)&&p(n,t,e[t]);return n},y=(n,e)=>S(n,q(e));const C=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}};C();const u=[],f=[];async function d(n){try{const t=await(await fetch(n)).json();return t.forEach(a=>{a.startDate=new Date(a.startDate),a.endDate=new Date(a.endDate)}),t}catch(e){console.log(`error: ${e}`)}}async function b(){u.push(await d("./data/set1.json")),u.push(await d("./data/set2.json")),u.push(await d("./data/set3.json")),u.push(await d("./data/set4.json"))}async function j(){await b(),u.forEach(n=>{T(n),f.push(N(n))}),f.forEach(n=>{let e=O(n);console.log(e)}),console.log(f)}const T=function(n){let e=0;return function(t){if(!t)return;e++;const a=document.querySelector("#main"),o=document.querySelector(".dataset-template"),r=document.querySelector(".datarow-template"),c=o.content.firstElementChild.cloneNode(!0);c.querySelector(".dataset__heading").textContent=`Project set #${e}`;const l=c.querySelector("tbody");a.appendChild(c),t.forEach(s=>{const i=r.content.firstElementChild.cloneNode(!0);i.querySelector(".datarow__city").textContent=s.cityCost,i.querySelector(".datarow__startdate").textContent=s.startDate.toLocaleDateString(),i.querySelector(".datarow__enddate").textContent=s.endDate.toLocaleDateString(),l.appendChild(i)})}}();function _(n){return n.reduce((t,a)=>t<a.startDate?t:a.startDate,new Date)}function x(n){return n.reduce((t,a)=>t>a.endDate?t:a.endDate,0)}function N(n){const e=new Map,t=_(n),a=x(n);let o=t;do{const r=new Date(o.getTime()+1e3*3600*24),c=new Date(o.getTime()-1e3*3600*24),l=r<=a?r.toLocaleDateString():null,s=o!=t?c.toLocaleDateString():null;e.set(o.toLocaleDateString(),{projects:[],next:l,prev:s}),o=r}while(o<=a);return console.log(e),n.forEach(r=>{v(r,e)}),console.log(e),e}function v({startDate:n,endDate:e,cityCost:t}=project,a){let o=n;do{const r=o.toLocaleDateString(),c=a.get(r);c&&a.set(r,y(D({},c),{projects:[...c==null?void 0:c.projects,t]})),o=new Date(o.getTime()+1e3*3600*24)}while(o<=e)}function O(n){let e=0;return n.forEach((t,a,o)=>{console.log(a);const r=o.get(t.prev),c=o.get(t.next),l=t.projects;let s=(!r||!c)&&l.length===1;s=s||!t.projects.length,s=s||(!(r==null?void 0:r.projects.length)||!(c==null?void 0:c.projects.length))&&t.projects.length===1;const i=l.reduce((g,m)=>g==="low"&&m.toLowerCase()==="high"?m:g,"low");e+=R(s,i)}),e}function R(n,e){return n?e==="low"?45:55:e==="low"?75:85}j();
